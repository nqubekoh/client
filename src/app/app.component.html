<div class="container py-3">
  <h3 class="mb-3">File Browser</h3>

  <div class="mb-3">
    <label class="form-label">Current path:</label>
    <input class="form-control" [(ngModel)]="currentPath" (keyup.enter)="load()" />
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-light">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Extension</th>
        <th>Full path</th>
        <th class="text-end">Size (bytes)</th>
        <th>Date Created</th>
        <th>Permissions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let e of entries">
        <td>
          <a *ngIf="e.isDirectory"
             href="#"
             (click)="enter(e); $event.preventDefault()">
            {{ e.name }}
          </a>
          <span *ngIf="!e.isDirectory">{{ e.name }}</span>
        </td>
        <td>{{ e.isDirectory ? 'Directory' : 'File' }}</td>
        <td>{{ e.extension || '-' }}</td>
        <td><small class="text-muted">{{ e.path }}</small></td>
        <td class="text-end">{{ e.size | number }}</td>
        <td>{{ e.createdAt | date:'short' }}</td>
        <td>{{ e.permissions }}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="text-center my-3" *ngIf="nextCursor">
    <button class="btn btn-primary" (click)="loadMore()" [disabled]="loading">
      Load more
    </button>
  </div>

  <div *ngIf="!entries.length && !loading" class="text-muted text-center mt-3">
    No entries
  </div>
</div>
